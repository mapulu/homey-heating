{"version":3,"sources":["webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/Switch/index.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/FormControlLabel/index.js","webpack:///./api/callAPI.tsx","webpack:///./api/heating/index.tsx","webpack:///./components/AppHeader.tsx","webpack:///./components/InputContainer.tsx","webpack:///./components/ListItemLink.tsx","webpack:///./components/Menu.tsx","webpack:///./layouts/Page.tsx","webpack:///./components/BodyText.tsx","webpack:///./components/SubHeader.tsx","webpack:///./components/FormTextField.tsx","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/Cancel.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/Switch/Switch.js","webpack:///./state/planHooks.tsx","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/icons/ArrowBackIos.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/uuid/v1.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/@material-ui/core/FormControlLabel/FormControlLabel.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/uuid/lib/rng-browser.js","webpack:////home/travis/build/mskg/homey-heating/node_modules/uuid/lib/bytesToUuid.js","webpack:///../app/services/homey-api/declarations.ts","webpack:///./components/OverrideSetting.tsx","webpack:///./pages/plan-exceptions.tsx"],"names":["_interopRequireDefault","__webpack_require__","Object","defineProperty","exports","value","enumerable","get","_Switch","default","_FormControlLabel","callAPI","method","path","body","Promise","resolve","reject","Homey","api","err","result","updatePlan","newPlan","tslib__WEBPACK_IMPORTED_MODULE_0__","undefined","planCopy","assign","zones","length","devices","_callAPI__WEBPACK_IMPORTED_MODULE_2__","id","planAPI","fetchPlans","res","lodash__WEBPACK_IMPORTED_MODULE_1__","plan","p","name","fetchPlanById","Error","fetchSchedule","schedule","temperatures","s","device","removePlan","togglePlanState","enabled","modeAPI","fetchMode","mode","setMode","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_0__","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3___default","react__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_4___default","__webpack_exports__","_theme","appBar","grow","flexGrow","buttons","display","toolbar","alignItems","justifyContent","props","classes","button","title","actions","subBar","children","a","createElement","position","color","className","variant","noWrap","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","theme","inputContainer","width","paddingLeft","spacing","unit","paddingRight","createLink","_a","innerRef","tslib_es6","to","toString","match","react_default","onClick","openURL","Link","components_ListItemLink","index_es","component","Menu_styles","text","padding","paddingBottom","version","paddingTop","normal","selected","palette","primary","main","otherButton","firstButton","marginLeft","AppMenuButton","_props","openMenu","setOpenMenu","useState","Fragment","AppMenu","open","onClose","MenuButton","first","icon","Menu_default","withRouter","styles","elements","type","Translation","Drawer_default","gutterBottom","map","e","key","disabled","url","otherProps","root","webkitOverflowScrolling","flexFlow","height","backgroundColor","flex","margin","maxWidth","overflowY","header","newPadding","style","react__WEBPACK_IMPORTED_MODULE_3___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_2___default","headline","marginTop","react__WEBPACK_IMPORTED_MODULE_2___default","_InputContainer__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_1___default","fullWidth","_react","_default","d","fill","_extends2","_objectWithoutProperties2","_classnames","_withStyles","_helpers","_SwitchBase","flexShrink","zIndex","verticalAlign","boxShadow","shadows","borderRadius","iconChecked","switchBase","grey","transition","transitions","create","duration","shortest","checked","transform","& + $bar","opacity","colorPrimary","&$checked","colorSecondary","secondary","& $icon","&$switchBase","common","black","white","bar","top","left","Switch","other","concat","capitalize","checkedIcon","defaultProps","useHistory","useModifyPlan","useModifyExceptions","useModifySetPoints","usePlan","react__WEBPACK_IMPORTED_MODULE_0__","uuid_v1__WEBPACK_IMPORTED_MODULE_1__","_api_heating__WEBPACK_IMPORTED_MODULE_2__","_PlanProvider__WEBPACK_IMPORTED_MODULE_3__","dispatch","loaded","savePoint","undo","commit","setName","evt","target","setDescription","description","toggleState","toggleZone","zone","toggleDevice","isDirty","setDirty","setOverride","temp","temperature","clearOverride","updateOverride","selectDay","day","selectedDay","setPoint","copyDays","source","days","targets","removeSetPoint","idx","index","loadSetPoint","point","newSetPoint","saveSetPoint","setStart","date","start","setTargetTemperature","parseFloat","cachedPlan","keep","then","overrides","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","module","options","buf","offset","i","b","node","clockseq","seedBytes","msecs","Date","getTime","nsecs","dt","tl","tmh","_defineProperty2","_withFormControlContext","_Typography","cursor","WebkitTapHighlightColor","marginRight","&$disabled","labelPlacementStart","flexDirection","labelPlacementTop","labelPlacementBottom","label","FormControlLabel","_classNames","classNameProp","control","disabledProp","inputRef","labelPlacement","muiFormControl","onChange","controlProps","forEach","cloneElement","getRandomValues","crypto","bind","window","msCrypto","rnds8","Uint8Array","rnds","Array","r","Math","random","byteToHex","substr","bth","join","CapabilityType","TARGET_TEMPERATURE_MIN","TARGET_TEMPERATURE_MAX","components_OverrideSetting","planOverride","marginBottom","react","FormControlLabel_default","Switch_default","_e","targetTemperature","FormTextField","placeholder","hidden","InputProps","inputProps","min","declarations","max","step","resetPadding","history","planHooks","params","getOverride","override","model","Page","AppHeader","Menu","replace","pathname","state","Cancel_default","ArrowBackIos_default","SubHeader","BodyText","DayAtHome","DayAway","Sleep","Holiday","OutOfSeason"],"mappings":"0FAEA,IAAAA,EAA6BC,EAAQ,GAErCC,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAEAH,OAAAC,eAAAC,EAAA,WACAE,YAAA,EACAC,IAAA,WACA,OAAAC,EAAAC,WAIA,IAAAD,EAAAR,EAAqCC,EAAQ,wCCZ7C,IAAAD,EAA6BC,EAAQ,GAErCC,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAEAH,OAAAC,eAAAC,EAAA,WACAE,YAAA,EACAC,IAAA,WACA,OAAAG,EAAAD,WAIA,IAAAC,EAAAV,EAA+CC,EAAQ,qFCdxC,SAAeU,EAAWC,EAAgBC,EAAcC,EAAY,gDAE3E,aAAa,IAAIC,QAAW,CAACC,EAASC,KAClCC,MAAMC,IAAIP,EAAQC,EAAMC,EAAM,CAACM,EAAUC,KACjCD,EAAOH,EAAOG,GAAeJ,EAAQK,0ICCzD,MAkBMC,EAAoBC,GAAiDC,EAAA,OAAAC,OAAA,qBACzE,MAAMC,EAAQxB,OAAAyB,OAAA,GAAOJ,GAKrB,OAHKG,EAASE,OAAmC,IAA1BF,EAASE,MAAMC,SAAgBH,EAASE,WAAQH,GAClEC,EAASI,SAAuC,IAA5BJ,EAASI,QAAQD,SAAgBH,EAASI,aAAUL,SAEhEvB,OAAA6B,EAAA,EAAA7B,CAAsB,gBAAiBqB,EAAQS,KAAMN,KAiCvDO,EAAU,CACrBC,WA1DiB,IAAqCV,EAAA,OAAAC,OAAA,qBACtD,MAAMU,QAAYjC,OAAA6B,EAAA,EAAA7B,CAAwB,MAAO,UAEjD,OAAOA,OAAAkC,EAAA,OAAAlC,CAAOA,OAAAkC,EAAA,IAAAlC,CAAIiC,EAAME,IACtBA,EAAKT,MAAQS,EAAKT,OAAS,GAC3BS,EAAKP,QAAUO,EAAKP,SAAW,GAExBO,IACJC,GAAMA,EAAEC,QAmDbC,cA5B2BR,GAAsCR,EAAA,OAAAC,OAAA,qBACjE,MAAMY,QAAanC,OAAA6B,EAAA,EAAA7B,CAAsB,gBAAiB8B,KAC1D,GAAY,MAARK,EAAgB,MAAM,IAAII,cAAcT,gBAK5C,OAHAK,EAAKT,MAAQS,EAAKT,OAAS,GAC3BS,EAAKP,QAAUO,EAAKP,SAAW,GAExBO,IAsBPK,cAnBoB,IAA2ClB,EAAA,OAAAC,OAAA,qBAC/D,MAAMkB,QAAiBzC,OAAA6B,EAAA,EAAA7B,CAA8B,MAAO,aAG5D,OAFAyC,EAASC,aAAe1C,OAAAkC,EAAA,OAAAlC,CAAOyC,EAASC,aAAc,CAAEC,GAAqCA,EAAEC,OAAOP,OAE/FI,IAgBPrB,aACAyB,WAnCwBf,GAAsCR,EAAA,OAAAC,OAAA,qBAC9D,aAAavB,OAAA6B,EAAA,EAAA7B,CAAsB,mBAAoB8B,OAmCvDgB,gBApD6BX,GAAyCb,EAAA,OAAAC,OAAA,qBAItE,OAHAY,EAAKY,SAAWZ,EAAKY,cACf3B,EAAWe,IAEV,KAmDIa,EAAU,CACrBC,UAnBgB,IAAoC3B,EAAA,OAAAC,OAAA,qBAEpD,aADkBvB,OAAA6B,EAAA,EAAA7B,CAA+B,MAAO,UAC7CkD,OAkBXC,QAfqBD,GAAuC5B,EAAA,OAAAC,OAAA,qBAC3D,aAAavB,OAAA6B,EAAA,EAAA7B,CAAc,MAAO,QAAS,CAACkD,8CC3D/C,IAAAE,EAAArD,EAAA,KAAAsD,EAAAtD,EAAAuD,EAAAF,GAAAG,EAAAxD,EAAA,IAAAyD,EAAAzD,EAAA,KAAA0D,EAAA1D,EAAAuD,EAAAE,GAAAE,EAAA3D,EAAA,IAAA4D,EAAA5D,EAAAuD,EAAAI,GAAAE,EAAA7D,EAAA,GAAA8D,EAAA9D,EAAAuD,EAAAM,GAsEeE,EAAA,EAAA9D,OAAAuD,EAAA,WAAAvD,CAhEqB+D,IAAW,CAC3CC,OAAQ,GAGRC,KAAM,CACFC,SAAU,GAGdC,QAAS,CACLC,QAAS,QAGbC,QAAS,CACLC,WAAY,SACZC,eAAgB,mBAkDT,CAjC6CC,IACxD,MAAMC,QAAEA,GAAYD,GACdE,OAAEA,EAAMC,MAAEA,EAAKC,QAAEA,EAAOC,OAAEA,GAAWL,EAAMM,UAAY,CACzDJ,OAAQ,KACRC,MAAO,KACPC,QAAS,KACTC,OAAQ,MAGZ,OACIhB,EAAAkB,EAAAC,cAACpB,EAAA,SAAQ,KACLC,EAAAkB,EAAAC,cAAC3B,EAAA0B,EAAM,CAACE,SAAS,WAAWC,MAAM,UAAUC,UAAWV,EAAQT,QAC3DH,EAAAkB,EAAAC,cAACvB,EAAAsB,EAAO,CAACI,UAAWV,EAAQJ,SACvBG,EAAME,QAAUA,EAEjBb,EAAAkB,EAAAC,cAACrB,EAAAoB,EAAU,CAACK,QAAQ,KAAKF,MAAM,UAAUG,QAAQ,GAC5Cb,EAAMG,OAASA,GAGnBd,EAAAkB,EAAAC,cAAA,OAAKG,UAAWV,EAAQR,OACb,MAAXW,GACGf,EAAAkB,EAAAC,cAAA,OAAKG,UAAWV,EAAQN,SACnBS,IAKF,MAAVC,GAAkBA,wCChEnC,IAAAS,EAAAvF,EAAA,IAAAwF,EAAAxF,EAAA,GAAAyF,EAAAzF,EAAAuD,EAAAiC,GAmBezB,EAAA,EAAA9D,OAAAsF,EAAA,WAAAtF,CAhBqByF,IAAU,CAC1CC,eAAgB,CACZC,MAAO,OACPC,YAAkC,EAArBH,EAAMI,QAAQC,KAC3BC,aAAmC,EAArBN,EAAMI,QAAQC,QAYrB,CAJyCtB,GAC5CgB,EAAAT,EAAAC,cAAA,OAAKG,UAAWX,EAAMC,QAAQiB,gBAAiBlB,EAAMM,0JCHjE,SAASkB,EAAWC,OAAAC,SAACA,GAAQD,EAAEzB,EAAA2B,EAAA,EAAAF,EAAA,cAG3B,OAAIzB,EAAM4B,GAAGC,WAAWC,MAAM,SACnBC,EAAAxB,EAAAC,cAAA,IAAAhF,OAAAyB,OAAA,CAAG+E,QAAS,IAAMxF,MAAMyF,QAAQjC,EAAM4B,GAAGC,aAAiB7B,GAAQA,EAAMM,UAG5EyB,EAAAxB,EAAAC,cAAC0B,EAAA,EAAI1G,OAAAyB,OAAA,GAAK+C,IAWN,IAAAmC,EARuCnC,GAE9C+B,EAAAxB,EAAAC,cAAC4B,EAAA,EAAQ5G,OAAAyB,OAAA,GAAK+C,EAAK,CAAEqC,UAAWb,IAC3BxB,EAAMM,0ECjBnB,MAAMgC,EAA8BrB,IAAU,CAC1CsB,KAAM,CACFC,QAA8B,EAArBvB,EAAMI,QAAQC,KACvBmB,cAAe,GAGnBC,QAAS,CACLF,QAA8B,EAArBvB,EAAMI,QAAQC,KACvBqB,WAAY,GAGhBC,OAAQ,GAGRC,SAAU,CACNnC,MAAOO,EAAM6B,QAAQC,QAAQC,MAGjCC,YAAa,GAIbC,YAAa,CACTC,YAAa,MAkFRC,EAA0CC,IACnD,MAAOC,EAAUC,GAAexB,EAAAxB,EAAMiD,UAAkB,GAExD,OACIzB,EAAAxB,EAAAC,cAACuB,EAAAxB,EAAMkD,SAAQ,KACX1B,EAAAxB,EAAAC,cAACkD,EAAO,CAACC,KAAML,EAAUM,QAAS,KAAQL,GAAY,MACtDxB,EAAAxB,EAAAC,cAACqD,EAAU,CAACC,OAAO,EAAM9B,QAAS,KAAQuB,GAAY,IAAUQ,KAAMhC,EAAAxB,EAAAC,cAACwD,EAAAzD,EAAQ,UAKrFmD,EAAUlI,OAAAyI,EAAA,EAAAzI,CAAWA,OAAA0I,EAAA,WAAA1I,CAAW8G,EAAX9G,CAnF0BwE,IACjD,MAAMC,QAACA,GAAWD,EAEZmE,EAAW,CACb,CACIC,KAAM,QACNxC,GAAI,IACJW,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,eAEpB,CACIoG,GAAI,gBACJW,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,sBAEpB,CACIoG,GAAI,aACJW,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,mBAEpB,CACIoG,GAAI,YACJW,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,kBAKpB,CACIoG,GAAI,iCACJW,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,eAIxB,OACIuG,EAAAxB,EAAAC,cAAC8D,EAAA/D,EAAM,CAACoD,KAAM3D,EAAM2D,KAAMC,QAAS5D,EAAM4D,SACrC7B,EAAAxB,EAAAC,cAAC4B,EAAA,EAAU,CAACzB,UAAWV,EAAQsC,KAAM3B,QAAQ,KAAK2D,cAAc,GAC3D/I,OAAA6I,EAAA,EAAA7I,CAAU,eAEfuG,EAAAxB,EAAAC,cAAC4B,EAAA,EAAU,CAACzB,UAAWV,EAAQyC,QAAS9B,QAAQ,QAAQF,MAAM,gBAAgB6D,cAAc,cAC/E,mBAAa,WAG1BxC,EAAAxB,EAAAC,cAAC4B,EAAA,EAAO,MACRL,EAAAxB,EAAAC,cAAC4B,EAAA,EAAI,KAED+B,EAASK,IAAKC,GAAkB,YAAXA,EAAEL,KACjBrC,EAAAxB,EAAAC,cAAC4B,EAAA,EAAO,MACRL,EAAAxB,EAAAC,cAAC2B,EAAY,CAACuC,IAAKD,EAAE7C,GAAIA,GAAI6C,EAAE7C,GAAI+C,SAAU3E,EAAM8B,MAAM8C,MAAQH,EAAE7C,GAAI1B,QAAQ,GAC7E6B,EAAAxB,EAAAC,cAAC4B,EAAA,EAAY,CACTW,QAAS0B,EAAElC,KACXtC,QAAS,CAAC8C,QAAS/C,EAAM8B,MAAM8C,MAAQH,EAAE7C,GAAK3B,EAAQ2C,OAAS3C,EAAQ4C,mBAqCtFgB,EAAarI,OAAA0I,EAAA,WAAA1I,CAAW8G,EAAX9G,CAtBwCwE,IAC9D,MAAMC,QAAEA,EAAO6D,MAAEA,EAAKC,KAAEA,GAAwB/D,EAAlB6E,EAAAlD,EAAA,EAAA3B,EAAA,4BAE9B,OACI+B,EAAAxB,EAAAC,cAAC4B,EAAA,EAAU5G,OAAAyB,OAAA,CAAC0D,UAAWmD,EAAQ7D,EAAQiD,YAAcjD,EAAQgD,YAAavC,MAAM,WAAcmE,GACzFd,uCC7Gb,IAAAjD,EAAAvF,EAAA,IAAAwF,EAAAxF,EAAA,GAAAyF,EAAAzF,EAAAuD,EAAAiC,GAkDezB,EAAA,EAAA9D,OAAAsF,EAAA,WAAAtF,CA/CqB+D,IAAW,CAC3CuF,KAAM,CACFC,wBAAyB,QACzBnF,QAAS,OACToF,SAAU,SACVC,OAAQ,QACR9D,MAAO,QACP+D,gBAAiB,QAGrB9I,KAAM,CACF+I,KAAO,WACPC,OAAQ,EACRC,SAAU,OACVC,UAAW,YAiCJ,CAlBwCtF,IACnD,MAAMC,QAAEA,GAAYD,GACduF,OAAEA,EAAMnJ,KAAEA,EAAIuG,WAAEA,EAAUF,cAAEA,GAAkBzC,EAAMM,SAEpDkF,EAAa/C,GAAiB,OAEpC,OACIzB,EAAAT,EAAAC,cAACQ,EAAAT,EAAMkD,SAAQ,KACXzC,EAAAT,EAAAC,cAAA,OAAKG,UAAWV,EAAQ6E,MACnBS,EACDvE,EAAAT,EAAAC,cAAA,OAAKG,UAAWV,EAAQ7D,KAAMqJ,MAAO,CAAC9C,aAAYF,cAAe+C,IAC5DpJ,+FCjBNkD,EAAA,EAAA9D,OAAAuD,EAAA,WAAAvD,CAtBqByF,IAAU,CAC1CsB,KAAM,CAEFnB,YAAkC,EAArBH,EAAMI,QAAQC,KAC3BC,aAAmC,EAArBN,EAAMI,QAAQC,QAkBrB,CAVmCtB,IAC9C,MAAMC,QAACA,EAAOsC,KAAEA,GAAuBvC,EAAjB6E,EAAA/H,EAAA,EAAAkD,EAAA,oBAEtB,OACI0F,EAAAnF,EAAAC,cAACmF,EAAApF,EAAU/E,OAAAyB,OAAA,CAAC0D,UAAWV,EAAQsC,KAAM7B,MAAM,iBAAqBmE,GAC3DtC,6FCKEjD,EAAA,EAAA9D,OAAAuD,EAAA,WAAAvD,CAtBqByF,IAAU,CAC1C2E,SAAU,CACNC,UAAgC,EAArB5E,EAAMI,QAAQC,KACzBF,YAAkC,EAArBH,EAAMI,QAAQC,KAC3BC,aAAmC,EAArBN,EAAMI,QAAQC,QAkBrB,CAV6CtB,IACxD,MAAMC,QAAEA,EAAOsC,KAAEA,GAAwBvC,EAAlB6E,EAAA/H,EAAA,EAAAkD,EAAA,oBAEvB,OACI0F,EAAAnF,EAAAC,cAACmF,EAAApF,EAAU/E,OAAAyB,OAAA,CAAC0D,UAAWV,EAAQ2F,SAAUhF,QAAQ,KAAKF,MAAM,gBAAgB6D,cAAc,GAAUM,GAC/FtC,+FCNEjD,EAAA,EAXO,CAACmC,QAAAxB,QAAEA,GAAOwB,EAAEoD,EAAA/H,EAAA,EAAA2E,EAAA,aAC9B,OACIqE,EAAAvF,EAAAC,cAACuF,EAAA,EAAc,KACXD,EAAAvF,EAAAC,cAACwF,EAAAzF,EAAS/E,OAAAyB,OAAA,CACNgJ,WAAW,EACXb,OAAO,UACHP,yCCRpB,IAAAvJ,EAA6BC,EAAQ,GAErCC,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAEAD,EAAAK,aAAA,EAEA,IAAAmK,EAAA5K,EAAoCC,EAAQ,IAI5C4K,GAAA,EAFA7K,EAA4CC,EAAQ,MAEpDQ,SAAAmK,EAAAnK,QAAAyE,cAAA0F,EAAAnK,QAAA0H,SAAA,KAAAyC,EAAAnK,QAAAyE,cAAA,QACA4F,EAAA,oLACCF,EAAAnK,QAAAyE,cAAA,QACD6F,KAAA,OACAD,EAAA,mBACC,UAED1K,EAAAK,QAAAoK,oCClBA,IAAA7K,EAA6BC,EAAQ,GAErCC,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAEAD,EAAAK,QAAAL,EAAAwI,YAAA,EAEA,IAAAoC,EAAAhL,EAAuCC,EAAQ,IAE/CgL,EAAAjL,EAAuDC,EAAQ,IAE/D2K,EAAA5K,EAAoCC,EAAQ,IAI5CiL,GAFAlL,EAAwCC,EAAQ,IAEhDD,EAAyCC,EAAQ,KAEjDkL,EAAAnL,EAAyCC,EAAQ,IAEjDmL,EAAenL,EAAQ,IAEvBoL,EAAArL,EAAyCC,EAAQ,MAEjD2I,EAAA,SAAAjD,GACA,OAEA6D,KAAA,CACAlF,QAAA,cACAuB,MAAA,GACAV,SAAA,WACAmG,WAAA,EACAC,OAAA,EAGAC,cAAA,UAIA/C,KAAA,CACAgD,UAAA9F,EAAA+F,QAAA,GACA9B,gBAAA,eACA/D,MAAA,GACA8D,OAAA,GACAgC,aAAA,OAIAC,YAAA,CACAH,UAAA9F,EAAA+F,QAAA,IAIAG,WAAA,CACA3E,QAAA,EACAyC,OAAA,GACA9D,MAAA,GACAT,MAAA,UAAAO,EAAA6B,QAAAsB,KAAAnD,EAAA6B,QAAAsE,KAAA,IAAAnG,EAAA6B,QAAAsE,KAAA,KACAC,WAAApG,EAAAqG,YAAAC,OAAA,aACAC,SAAAvG,EAAAqG,YAAAE,SAAAC,YAKAC,QAAA,CACAC,UAAA,mBACAC,WAAA,CACAC,QAAA,KAKAC,aAAA,CACAC,YAAA,CACArH,MAAAO,EAAA6B,QAAAC,QAAAC,KACA4E,WAAA,CACA1C,gBAAAjE,EAAA6B,QAAAC,QAAAC,QAMAgF,eAAA,CACAD,YAAA,CACArH,MAAAO,EAAA6B,QAAAmF,UAAAjF,KACA4E,WAAA,CACA1C,gBAAAjE,EAAA6B,QAAAmF,UAAAjF,QAMA2B,SAAA,CACAiD,WAAA,CACAC,QAAA,UAAA5G,EAAA6B,QAAAsB,KAAA,QAEA8D,UAAA,CACAnB,UAAA9F,EAAA+F,QAAA,IAEAmB,eAAA,CACAzH,MAAA,UAAAO,EAAA6B,QAAAsB,KAAAnD,EAAA6B,QAAAsE,KAAA,KAAAnG,EAAA6B,QAAAsE,KAAA,KACAQ,WAAA,CACA1C,gBAAA,UAAAjE,EAAA6B,QAAAsB,KAAAnD,EAAA6B,QAAAsF,OAAAC,MAAApH,EAAA6B,QAAAsF,OAAAE,SAMAC,IAAA,CACAtB,aAAA,EACArH,QAAA,QACAa,SAAA,WACAoG,QAAA,EACA1F,MAAA,GACA8D,OAAA,GACAuD,IAAA,MACAC,KAAA,MACA5C,WAAA,EACA1C,YAAA,GACAkE,WAAApG,EAAAqG,YAAAC,OAAA,gCACAC,SAAAvG,EAAAqG,YAAAE,SAAAC,WAEAvC,gBAAA,UAAAjE,EAAA6B,QAAAsB,KAAAnD,EAAA6B,QAAAsF,OAAAC,MAAApH,EAAA6B,QAAAsF,OAAAE,MACAT,QAAA,UAAA5G,EAAA6B,QAAAsB,KAAA,UAOA,SAAAsE,EAAA1I,GACA,IAAAC,EAAAD,EAAAC,QACAU,EAAAX,EAAAW,UACAD,EAAAV,EAAAU,MACAiI,GAAA,EAAApC,EAAAxK,SAAAiE,EAAA,iCACA,OAAAkG,EAAAnK,QAAAyE,cAAA,QACAG,WAAA,EAAA6F,EAAAzK,SAAAkE,EAAA6E,KAAAnE,IACGuF,EAAAnK,QAAAyE,cAAAmG,EAAA5K,SAAA,EAAAuK,EAAAvK,SAAA,CACHqI,KAAA,WACAL,KAAAmC,EAAAnK,QAAAyE,cAAA,QACAG,UAAAV,EAAA8D,OAEA9D,QAAA,CACA6E,MAAA,EAAA0B,EAAAzK,SAAAkE,EAAAkH,WAAAlH,EAAA,QAAA2I,QAAA,EAAAlC,EAAAmC,YAAAnI,MACAgH,QAAAzH,EAAAyH,QACA/C,SAAA1E,EAAA0E,UAEAmE,YAAA5C,EAAAnK,QAAAyE,cAAA,QACAG,WAAA,EAAA6F,EAAAzK,SAAAkE,EAAA8D,KAAA9D,EAAAiH,gBAEGyB,IAAAzC,EAAAnK,QAAAyE,cAAA,QACHG,UAAAV,EAAAsI,OAvBA7M,EAAAwI,SA4GAwE,EAAAK,aAAA,CACArI,MAAA,aAGA,IAAAyF,GAAA,EAAAM,EAAA1K,SAAAmI,EAAA,CACArG,KAAA,aADA,CAEC6K,GAEDhN,EAAAK,QAAAoK,oCCrPA5K,EAAA6K,EAAA9G,EAAA,sBAAA0J,IAAAzN,EAAA6K,EAAA9G,EAAA,sBAAA2J,IAAA1N,EAAA6K,EAAA9G,EAAA,sBAAA4J,IAAA3N,EAAA6K,EAAA9G,EAAA,sBAAA6J,IAAA5N,EAAA6K,EAAA9G,EAAA,sBAAA8J,IAAA,IAAAC,EAAA9N,EAAA,GAAA+N,EAAA/N,EAAA,KAAAgO,EAAAhO,EAAA,KAAAiO,EAAAjO,EAAA,IAMO,MAAMyN,EAAa,KACtB,MAAMS,EAAWjO,OAAAgO,EAAA,EAAAhO,GACXkO,EAASlO,OAAAgO,EAAA,EAAAhO,CAAmB,UAE5BmO,EAAYnO,OAAA6N,EAAA,YAAA7N,CAAY,IAAMiO,EAAS,CAAErF,KAAM,cAAgB,CAACqF,IAChEG,EAAOpO,OAAA6N,EAAA,YAAA7N,CAAY,IAAMiO,EAAS,CAAErF,KAAM,SAAW,CAACqF,IACtDI,EAASrO,OAAA6N,EAAA,YAAA7N,CAAY,IAAMiO,EAAS,CAAErF,KAAM,WAAa,CAACqF,IAMhE,OAJAjO,OAAA6N,EAAA,UAAA7N,CAAU,KACNmO,KACD,CAACD,IAEG,CACHC,YAAWC,OAAMC,WAIZZ,EAAgB,KACzB,MAAMQ,EAAWjO,OAAAgO,EAAA,EAAAhO,GASjB,MAAO,CAAEsO,QAPOtO,OAAA6N,EAAA,YAAA7N,CAAauO,GAAQN,EAAS,CAAErF,KAAM,UAAWvG,KAAMkM,EAAIC,OAAOrO,QAAU,CAAC8N,IAO3EQ,eANKzO,OAAA6N,EAAA,YAAA7N,CAAauO,GAAQN,EAAS,CAAErF,KAAM,iBAAkB8F,YAAaH,EAAIC,OAAOrO,QAAU,CAAC8N,IAMhFU,YAJd3O,OAAA6N,EAAA,YAAA7N,CAAY,IAAMiO,EAAS,CAAErF,KAAM,kBAAoB,CAACqF,IAI7BW,WAH5B5O,OAAA6N,EAAA,YAAA7N,CAAa8B,GAAOmM,EAAS,CAAErF,KAAM,aAAciG,KAAM/M,IAAO,CAACmM,IAGzBa,aAFtC9O,OAAA6N,EAAA,YAAA7N,CAAa8B,GAAOmM,EAAS,CAAErF,KAAM,eAAgBhG,OAAQd,IAAO,CAACmM,MAKjFP,EAAsB,KAC/B,MAAMO,EAAWjO,OAAAgO,EAAA,EAAAhO,IACV+O,EAASC,GAAYhP,OAAA6N,EAAA,SAAA7N,EAAkB,GAExCiP,EAAcjP,OAAA6N,EAAA,YAAA7N,CAAY,CAACkD,EAAMgM,KACnCjB,EAAS,CAAErF,KAAM,cAAe1F,OAAMiM,YAAaD,IACnDF,GAAS,IACV,CAACf,IAEEmB,EAAgBpP,OAAA6N,EAAA,YAAA7N,CAAakD,IAC/B+K,EAAS,CAAErF,KAAM,gBAAiB1F,SAClC8L,GAAS,IACV,CAACf,IAEEoB,EAAiBrP,OAAA6N,EAAA,YAAA7N,CAAY,CAACkD,EAAoBsL,KACrC,IAAXA,EAAgBY,EAAclM,GAAgB+L,EAAY/L,EAAMsL,IACrE,CAACP,IAMJ,OAJAjO,OAAA6N,EAAA,UAAA7N,CAAU,KACNgP,GAAS,IACV,IAEI,CAAED,UAASE,cAAaG,gBAAeC,mBAGrC1B,EAAqB,KAC9B,MAAOoB,EAASC,GAAYhP,OAAA6N,EAAA,SAAA7N,EAAkB,GAExCiO,EAAWjO,OAAAgO,EAAA,EAAAhO,GAEXsP,EAAYtP,OAAA6N,EAAA,YAAA7N,CAAauP,IAAUtB,EAAS,CAAErF,KAAM,YAAa2G,SAAW,CAACtB,IAC7EuB,EAAcxP,OAAAgO,EAAA,EAAAhO,CAAmB,eACjCyP,EAAWzP,OAAAgO,EAAA,EAAAhO,CAAmB,YAE9B0P,EAAW1P,OAAA6N,EAAA,YAAA7N,CAAY,CAAC2P,EAAQC,KACtB,MAARA,GAAgBA,EAAKjO,OAAS,IAC9BqN,GAAS,GACTf,EAAS,CAAErF,KAAM,WAAY+G,SAAQE,QAASD,MAEnD,CAAC3B,IAEE6B,EAAiB9P,OAAA6N,EAAA,YAAA7N,CAAa+P,IAAUf,GAAS,GAAOf,EAAS,CAAErF,KAAM,iBAAkBoH,MAAOD,KAAW,CAAC9B,IAE9GgC,EAAejQ,OAAA6N,EAAA,YAAA7N,CAAakQ,IAAYjC,EAAS,CAAErF,KAAM,eAAgB6G,SAAUS,KAAa,CAACjC,IACjGkC,EAAcnQ,OAAA6N,EAAA,YAAA7N,CAAauP,IAAUtB,EAAS,CAAErF,KAAM,cAAe2G,SAAW,CAACtB,IAEjFmC,EAAepQ,OAAA6N,EAAA,YAAA7N,CAAa2C,KACb,IAAbA,EAAEqN,MACF/B,EAAS,CAAErF,KAAM,cAAe6G,SAAU9M,IAE1CsL,EAAS,CAAErF,KAAM,iBAAkB6G,SAAU9M,KAElD,CAACsL,IAEEoC,EAAWrQ,OAAA6N,EAAA,YAAA7N,CAAasQ,GAAwBrC,EAAS,CAAErF,KAAM,WAAY2H,MAAOD,IAAS,CAACrC,IAC9FuC,EAAuBxQ,OAAA6N,EAAA,YAAA7N,CAAauO,GAAQN,EAAS,CAAErF,KAAM,uBAAwBuG,YAAasB,WAAWlC,EAAIC,OAAOrO,SAAW,CAAC8N,IAM1I,OAJAjO,OAAA6N,EAAA,UAAA7N,CAAU,KACNgP,GAAS,IACV,IAEI,CAAEA,WAAUD,UAASS,cAAaC,WAAUC,WAAUI,iBAAgBG,eAAcE,cAAab,YAAWc,eAAcC,WAAUG,yBAG/I,IAAIE,GAAa,EACV,MAAM9C,EAAU,CAAC9L,EAAY6O,GAAgB,KAChD,MAAM1C,EAAWjO,OAAAgO,EAAA,EAAAhO,GAEXmC,EAAOnC,OAAAgO,EAAA,EAAAhO,CAAmB,QAC1BkO,EAASlO,OAAAgO,EAAA,EAAAhO,CAAmB,UAC5B+O,EAAU/O,OAAAgO,EAAA,EAAAhO,CAAmB,SAEnC,IAAKkO,IAAWyC,EACZ,GAAW,MAAN7O,GAAqB,QAAPA,GAAkB4O,GAcjC,IAAKA,EACD,MAAM3C,EAAA,EAAQzL,cAAcR,GAAI8O,KAAMxO,IAClCsO,GAAa,EACbzC,EAAS,CAAErF,KAAM,WAAYzG,KAAMC,WAhB3CsO,GAAa,EACbzC,EAAS,CACLrF,KAAM,WAAYzG,KAAM,CACpBL,GAAIgM,IACJ/K,SAAS,EACTV,KAAM,GACNX,MAAO,GACPE,QAAS,GACTa,SAAU,GACVoO,eAAWtP,KAmB3B,OANAvB,OAAA6N,EAAA,UAAA7N,CAAU,IACC,KACH0Q,GAAa,GAElB,CAAC5O,EAAI6O,IAED,CAAExO,OAAM4M,UAASb,6CCxI5B,IAAApO,EAA6BC,EAAQ,GAErCC,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAEAD,EAAAK,aAAA,EAEA,IAAAmK,EAAA5K,EAAoCC,EAAQ,IAI5C4K,GAAA,EAFA7K,EAA4CC,EAAQ,MAEpDQ,SAAAmK,EAAAnK,QAAAyE,cAAA0F,EAAAnK,QAAA0H,SAAA,KAAAyC,EAAAnK,QAAAyE,cAAA,QACA4F,EAAA,wDACCF,EAAAnK,QAAAyE,cAAA,QACD6F,KAAA,OACAD,EAAA,mBACC,gBAED1K,EAAAK,QAAAoK,uBCpBA,IAQAmG,EACAC,EATAC,EAAUjR,EAAQ,KAClBkR,EAAkBlR,EAAQ,KAW1BmR,EAAA,EACAC,EAAA,EA+FAC,EAAAlR,QA5FA,SAAAmR,EAAAC,EAAAC,GACA,IAAAC,EAAAF,GAAAC,GAAA,EACAE,EAAAH,GAAA,GAGAI,GADAL,KAAA,IACAK,MAAAZ,EACAa,OAAApQ,IAAA8P,EAAAM,SAAAN,EAAAM,SAAAZ,EAKA,SAAAW,GAAA,MAAAC,EAAA,CACA,IAAAC,EAAAZ,IACA,MAAAU,IAEAA,EAAAZ,EAAA,CACA,EAAAc,EAAA,GACAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,KAGA,MAAAD,IAEAA,EAAAZ,EAAA,OAAAa,EAAA,MAAAA,EAAA,KAQA,IAAAC,OAAAtQ,IAAA8P,EAAAQ,MAAAR,EAAAQ,OAAA,IAAAC,MAAAC,UAIAC,OAAAzQ,IAAA8P,EAAAW,MAAAX,EAAAW,MAAAb,EAAA,EAGAc,EAAAJ,EAAAX,GAAAc,EAAAb,GAAA,IAcA,GAXAc,EAAA,QAAA1Q,IAAA8P,EAAAM,WACAA,IAAA,UAKAM,EAAA,GAAAJ,EAAAX,SAAA3P,IAAA8P,EAAAW,QACAA,EAAA,GAIAA,GAAA,IACA,UAAAzP,MAAA,mDAGA2O,EAAAW,EACAV,EAAAa,EACAjB,EAAAY,EAMA,IAAAO,GAAA,gBAHAL,GAAA,cAGAG,GAAA,WACAP,EAAAD,KAAAU,IAAA,OACAT,EAAAD,KAAAU,IAAA,OACAT,EAAAD,KAAAU,IAAA,MACAT,EAAAD,KAAA,IAAAU,EAGA,IAAAC,EAAAN,EAAA,yBACAJ,EAAAD,KAAAW,IAAA,MACAV,EAAAD,KAAA,IAAAW,EAGAV,EAAAD,KAAAW,IAAA,SACAV,EAAAD,KAAAW,IAAA,OAGAV,EAAAD,KAAAG,IAAA,MAGAF,EAAAD,KAAA,IAAAG,EAGA,QAAArO,EAAA,EAAiBA,EAAA,IAAOA,EACxBmO,EAAAD,EAAAlO,GAAAoO,EAAApO,GAGA,OAAAgO,GAAAL,EAAAQ,sCCvGA,IAAA3R,EAA6BC,EAAQ,GAErCC,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAEAD,EAAAK,QAAAL,EAAAwI,YAAA,EAEA,IAAAoC,EAAAhL,EAAuCC,EAAQ,IAE/CqS,EAAAtS,EAA8CC,EAAQ,IAEtDgL,EAAAjL,EAAuDC,EAAQ,IAE/D2K,EAAA5K,EAAoCC,EAAQ,IAI5CiL,GAFAlL,EAAwCC,EAAQ,IAEhDD,EAAyCC,EAAQ,KAEjDsS,EAAAvS,EAAqDC,EAAQ,KAE7DkL,EAAAnL,EAAyCC,EAAQ,IAEjDuS,EAAAxS,EAAyCC,EAAQ,KAEjDmL,EAAenL,EAAQ,IAEvB2I,EAAA,SAAAjD,GACA,OAEA6D,KAAA,CACAlF,QAAA,cACAE,WAAA,SACAiO,OAAA,UAEAjH,cAAA,SAEAkH,wBAAA,cACA7K,YAAA,GACA8K,YAAA,GAEAC,aAAA,CACAH,OAAA,YAKAI,oBAAA,CACAC,cAAA,cACAjL,WAAA,GAEA8K,aAAA,IAIAI,kBAAA,CACAD,cAAA,iBACAjL,WAAA,IAIAmL,qBAAA,CACAF,cAAA,SACAjL,WAAA,IAIAwB,SAAA,GAGA4J,MAAA,CACAL,aAAA,CACAxN,MAAAO,EAAA6B,QAAAP,KAAAoC,aAaA,SAAA6J,EAAAxO,GAGAA,EAAA0H,QAFA,IAAA+G,EAGAxO,EAAAD,EAAAC,QACAyO,EAAA1O,EAAAW,UACAgO,EAAA3O,EAAA2O,QACAC,EAAA5O,EAAA2E,SAEA4J,GADAvO,EAAA6O,SACA7O,EAAAuO,OACAO,EAAA9O,EAAA8O,eACAC,EAAA/O,EAAA+O,eAIApG,GAHA3I,EAAAnC,KACAmC,EAAAgP,SACAhP,EAAArE,OACA,EAAA4K,EAAAxK,SAAAiE,EAAA,wIACA2E,EAAAiK,OAEA,IAAAjK,QAAA,IAAAgK,EAAA3O,MAAA2E,WACAA,EAAAgK,EAAA3O,MAAA2E,eAGA,IAAAA,GAAAoK,IACApK,EAAAoK,EAAApK,UAGA,IAAAsK,EAAA,CACAtK,YAOA,MALA,iDAAAuK,QAAA,SAAAxK,QACA,IAAAiK,EAAA3O,MAAA0E,SAAA,IAAA1E,EAAA0E,KACAuK,EAAAvK,GAAA1E,EAAA0E,MAGAwB,EAAAnK,QAAAyE,cAAA,WAAA8F,EAAAvK,SAAA,CACA4E,WAAA,EAAA6F,EAAAzK,SAAAkE,EAAA6E,MAAA2J,EAAA,IAAuE,EAAAb,EAAA7R,SAAA0S,EAAAxO,EAAA,iBAAA2I,QAAA,EAAAlC,EAAAmC,YAAAiG,KAAA,QAAAA,IAAA,EAAAlB,EAAA7R,SAAA0S,EAAAxO,EAAA0E,YAAA8J,GAAAC,IACpE/F,GAAAzC,EAAAnK,QAAAoT,aAAAR,EAAAM,GAAA/I,EAAAnK,QAAAyE,cAAAsN,EAAA/R,QAAA,CACHsG,UAAA,OACA1B,WAAA,EAAA6F,EAAAzK,SAAAkE,EAAAsO,OAAA,EAAAX,EAAA7R,SAAA,GAAuFkE,EAAA0E,cACpF4J,IAzCH7S,EAAAwI,SA8GAsK,EAAAzF,aAAA,CACA+F,eAAA,OAGA,IAAA3I,GAAA,EAAAM,EAAA1K,SAAAmI,EAAA,CACArG,KAAA,uBADA,EAEC,EAAAgQ,EAAA9R,SAAAyS,IAED9S,EAAAK,QAAAoK,qBCpMA,IAAAiJ,EAAA,4BAAAC,OAAAD,iBAAAC,OAAAD,gBAAAE,KAAAD,SACA,iDAAAE,OAAAC,SAAAJ,iBAAAI,SAAAJ,gBAAAE,KAAAE,UAEA,GAAAJ,EAAA,CAEA,IAAAK,EAAA,IAAAC,WAAA,IAEA9C,EAAAlR,QAAA,WAEA,OADA0T,EAAAK,GACAA,OAEC,CAKD,IAAAE,EAAA,IAAAC,MAAA,IAEAhD,EAAAlR,QAAA,WACA,QAAAmU,EAAA7C,EAAA,EAAsBA,EAAA,GAAQA,IAC9B,MAAAA,KAAA6C,EAAA,WAAAC,KAAAC,UACAJ,EAAA3C,GAAA6C,MAAA,EAAA7C,IAAA,OAGA,OAAA2C,uBC1BA,IADA,IAAAK,EAAA,GACAhD,EAAA,EAAeA,EAAA,MAASA,EACxBgD,EAAAhD,MAAA,KAAAnL,SAAA,IAAAoO,OAAA,GAiBArD,EAAAlR,QAdA,SAAAoR,EAAAC,GACA,IAAAC,EAAAD,GAAA,EACAmD,EAAAF,EAEA,OAAAE,EAAApD,EAAAE,MAAAkD,EAAApD,EAAAE,MACAkD,EAAApD,EAAAE,MAAAkD,EAAApD,EAAAE,MAAA,IACAkD,EAAApD,EAAAE,MAAAkD,EAAApD,EAAAE,MAAA,IACAkD,EAAApD,EAAAE,MAAAkD,EAAApD,EAAAE,MAAA,IACAkD,EAAApD,EAAAE,MAAAkD,EAAApD,EAAAE,MAAA,IACAkD,EAAApD,EAAAE,MAAAkD,EAAApD,EAAAE,MACAkD,EAAApD,EAAAE,MAAAkD,EAAApD,EAAAE,MACAkD,EAAApD,EAAAE,MAAAkD,EAAApD,EAAAE,OAAAmD,KAAA,uCCpBA,IAAYC,EAAZ7U,EAAA6K,EAAA9G,EAAA,sBAAA+Q,IAAA9U,EAAA6K,EAAA9G,EAAA,sBAAAgR,IAAA,SAAYF,GACRA,EAAA,uCACAA,EAAA,yCAGAA,EAAA,yCALJ,CAAYA,MAAc,KAQnB,MAGMC,EAAyB,EACzBC,EAAyB,gOCmDvB,IAAAC,EAAA/U,OAAA0I,EAAA,WAAA1I,CAtDqByF,IAAU,CAC1CuP,aAAc,CACVC,aAAmC,EAArBxP,EAAMI,QAAQC,QAoDrB,CAvCsDtB,GAG7D+B,EAAAxB,EAAAC,cAACkQ,EAAA,SAAQ,KACL3O,EAAAxB,EAAAC,cAAA,OAAKG,UAAWX,EAAMC,QAAQuQ,cAC1BzO,EAAAxB,EAAAC,cAACmQ,EAAApQ,EAAgB,CACbkF,MAAO,CAAEtC,WAAY,GACrBwL,QACI5M,EAAAxB,EAAAC,cAACoQ,EAAArQ,EAAM,CACHmH,QAAS1H,EAAMzB,QACfyQ,SAAU,CAAC6B,EAAInJ,KACX1H,EAAMyK,YAAYzK,EAAMtB,KACpBgJ,EAAuC,IAA5B1H,EAAM8Q,kBAA0B,GAAK9Q,EAAM8Q,kBAAqB,MAI3FvC,MAAOvO,EAAMuC,KACbuM,eAAe,QAGnB/M,EAAAxB,EAAAC,cAACuQ,EAAA,EAAa,CACVxC,MAAO/S,OAAA6I,EAAA,EAAA7I,CAAU,qBACjBwV,YAAaxV,OAAA6I,EAAA,EAAA7I,CAAU,2BACvBmJ,UAAW3E,EAAMzB,QACjB0S,QAASjR,EAAMzB,QAEf6F,KAAK,SACL8M,WAAY,CAAEC,WAAY,CAAEC,IAAKC,EAAA,EAAwBC,IAAKD,EAAA,EAAwBE,KAAM,KAE5F5V,MAAOqE,EAAM8Q,kBACb9B,SAAWjF,IACP/J,EAAMyK,YAAYzK,EAAMtB,KAAMuN,WAAWlC,EAAIC,OAAOrO,yCCqD7D2D,EAAA,QAAA9D,OAAAyI,EAAA,GAAWzI,OAAA0I,EAAA,WAAA1I,CA5FU+D,IAAW,CAC3CiS,aAAc,CACV/O,cAAe,IACfrB,YAAa,EACbG,aAAc,KAwFI/F,CA9EsCwE,IAC5D,MAAMyR,QAAEA,EAAOxR,QAAEA,GAAYD,GAEvBrC,KAAEA,GAASnC,OAAAkW,EAAA,EAAAlW,CAAQwE,EAAM8B,MAAM6P,OAAOrU,KACtCiN,QAAEA,EAAOM,eAAEA,GAAmBrP,OAAAkW,EAAA,EAAAlW,IAC9BoO,KAAEA,EAAIC,OAAEA,GAAWrO,OAAAkW,EAAA,EAAAlW,GAoBzB,MAAMoW,EAAelT,IACjB,MAAMmT,EAA6B,MAAlBlU,EAAK0O,UAEf1O,EAAK0O,UAAUyF,EAAA,EAAapT,KAAUf,EAAK0O,UAAU3N,GACtD,KAEN,MAAO,CACHA,OACAH,QAAqB,MAAZsT,GAAmD,IAA/BA,EAASf,kBACtCA,kBAA+B,MAAZe,EAAmBA,EAASf,kBAAoB,IAI3E,OACI/O,EAAAxB,EAAAC,cAACuR,EAAA,EAAI,KACA,CACGxM,OACIxD,EAAAxB,EAAAC,cAACwR,EAAA,EAAS,KACL,CACG7R,MAAO3E,OAAA6I,EAAA,EAAA7I,CAAU,mBACjB0E,OACI6B,EAAAxB,EAAAC,cAACyR,EAAA,EAAU,CAACnO,OAAO,EAAM9B,QAvCrD,WACI4H,IAEA6H,EAAQS,QAAQ,CACZC,mBAAoBxU,EAAKL,KACzB8U,OAAO,KAkC+DrO,KAAMwG,EAAUxI,EAAAxB,EAAAC,cAAC6R,EAAA9R,EAAU,MAAMwB,EAAAxB,EAAAC,cAAC8R,EAAA/R,EAAQ,QAEhGH,QACI2B,EAAAxB,EAAAC,cAACuB,EAAAxB,EAAMkD,SAAQ,KACV8G,GACGxI,EAAAxB,EAAAC,cAAC4B,EAAA,EAAM,CAAC1B,MAAM,UAAUsB,QAnC5D,WACI6H,IAEA4H,EAAQS,QAAQ,CACZC,mBAAoBxU,EAAKL,KACzB8U,OAAO,MA+B0B5W,OAAA6I,EAAA,EAAA7I,CAAU,qBAQvCmH,WAAY,GACZvG,KACI2F,EAAAxB,EAAAC,cAAA,OAAKG,UAAWV,EAAQuR,cACpBzP,EAAAxB,EAAAC,cAAC+R,EAAA,EAAS,CAAChQ,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,uBAC3BuG,EAAAxB,EAAAC,cAACgS,EAAA,EAAQ,CAACjQ,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,oBAE1BuG,EAAAxB,EAAAC,cAAC+P,EAAe/U,OAAAyB,OAAA,CAACsF,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,oBAAqBiP,YAAaI,GAAoB+G,EAAYE,EAAA,EAAaW,aAChH1Q,EAAAxB,EAAAC,cAAC+P,EAAe/U,OAAAyB,OAAA,CAACsF,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,kBAAmBiP,YAAaI,GAAoB+G,EAAYE,EAAA,EAAaY,WAC9G3Q,EAAAxB,EAAAC,cAAC+P,EAAe/U,OAAAyB,OAAA,CAACsF,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,sBAAuBiP,YAAaI,GAAoB+G,EAAYE,EAAA,EAAaa,SAClH5Q,EAAAxB,EAAAC,cAAC+P,EAAe/U,OAAAyB,OAAA,CAACsF,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,qBAAsBiP,YAAaI,GAAoB+G,EAAYE,EAAA,EAAac,WACjH7Q,EAAAxB,EAAAC,cAAC+P,EAAe/U,OAAAyB,OAAA,CAACsF,KAAM/G,OAAA6I,EAAA,EAAA7I,CAAU,yBAA0BiP,YAAaI,GAAoB+G,EAAYE,EAAA,EAAae","file":"7.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _Switch.default;\n  }\n});\n\nvar _Switch = _interopRequireDefault(require(\"./Switch\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _FormControlLabel.default;\n  }\n});\n\nvar _FormControlLabel = _interopRequireDefault(require(\"./FormControlLabel\"));","export default async function callAPI<T>(method: string, path: string, body: any = null): Promise<T> {\n    if (__PRODUCTION__) {\n        return await new Promise<T>((resolve, reject) => {\n            Homey.api(method, path, body, (err: any, result: any) =>  {\n                if (err) { reject(err); } else { resolve(result); }\n            });\n        });\n    }\n\n    const options: any = {\n        method,\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        cache: \"no-store\",\n    };\n\n    if (body != null) {\n        options.body = JSON.stringify(body);\n    }\n\n    // local development\n    const res = await fetch(`${__HOMEY_DEV_URL}/api/app/app.mskg.homey-heating${path}`, options);\n    return await res.json() as T;\n}\n","\nimport { map, sortBy } from \"lodash\";\nimport { IGroupedCalculatedTemperature, IHeatingPlan, IScheduleInformation, OperationMode } from \"../../../app/model\";\nimport callAPI from \"../callAPI\";\n\nconst fetchPlans = async (): Promise<IHeatingPlan[]> => {\n  const res = await callAPI<IHeatingPlan[]>(\"GET\", \"/plans\");\n\n  return sortBy(map(res, (plan: IHeatingPlan) => {\n    plan.zones = plan.zones || [];\n    plan.devices = plan.devices || [];\n\n    return plan;\n  }), (p) => p.name);\n};\n\nconst togglePlanState = async (plan: IHeatingPlan): Promise<boolean> => {\n  plan.enabled = !plan.enabled;\n  await updatePlan(plan);\n\n  return true;\n};\n\nconst updatePlan = async (newPlan: IHeatingPlan): Promise<IHeatingPlan> => {\n  const planCopy = {...newPlan};\n\n  if (!planCopy.zones || planCopy.zones.length === 0) { planCopy.zones = undefined; }\n  if (!planCopy.devices || planCopy.devices.length === 0) { planCopy.devices = undefined; }\n\n  return await callAPI<IHeatingPlan>(\"PUT\", `/plans/${newPlan.id}`, planCopy);\n};\n\nconst removePlan = async (id: string): Promise<IHeatingPlan> => {\n  return await callAPI<IHeatingPlan>(\"DELETE\", `/plans/${id}`);\n};\n\nconst fetchPlanById = async (id: string): Promise<IHeatingPlan> => {\n  const plan = await callAPI<IHeatingPlan>(\"GET\", `/plans/${id}`);\n  if (plan == null) { throw new Error(`Plan ${id} not found.`); }\n\n  plan.zones = plan.zones || [];\n  plan.devices = plan.devices || [];\n\n  return plan;\n};\n\nconst fetchSchedule = async (): Promise<IScheduleInformation> => {\n  const schedule = await callAPI<IScheduleInformation>(\"GET\", `/schedule`);\n  schedule.temperatures = sortBy(schedule.temperatures, [(s: IGroupedCalculatedTemperature) => s.device.name]);\n\n  return schedule;\n};\n\nconst fetchMode = async (): Promise<OperationMode> => {\n  const res = await callAPI<{mode: OperationMode}>(\"GET\", \"/mode\");\n  return res.mode;\n};\n\nconst setMode = async (mode: OperationMode): Promise<void> => {\n   return await callAPI<void>(\"PUT\", `/mode`, {mode});\n};\n\nexport const planAPI = {\n  fetchPlans,\n  fetchPlanById,\n  fetchSchedule,\n  updatePlan,\n  removePlan,\n  togglePlanState,\n};\n\nexport const modeAPI = {\n  fetchMode,\n  setMode,\n};\n","import AppBar from \"@material-ui/core/AppBar\";\nimport { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { Fragment, ReactChild } from \"react\";\n\nconst styles: StyleRulesCallback = (_theme) => ({\n    appBar: {\n    },\n\n    grow: {\n        flexGrow: 1,\n    },\n\n    buttons: {\n        display: \"flex\" as \"flex\",\n    },\n\n    toolbar: {\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n    },\n});\n\ntype NamedSlots = {\n    title?: string,\n    button?: ReactChild,\n    actions?: ReactChild,\n    subBar?: ReactChild,\n};\n\ntype Props = WithStyles<typeof styles> & {\n    title?: string,\n    button?: React.ReactElement<any>,\n    children?: NamedSlots,\n};\n\nconst AppHeaderComponent: React.FunctionComponent<Props> = (props) => {\n    const { classes } = props;\n    const { button, title, actions, subBar } = props.children || {\n        button: null,\n        title: null,\n        actions: null,\n        subBar: null,\n    };\n\n    return (\n        <Fragment>\n            <AppBar position=\"absolute\" color=\"primary\" className={classes.appBar}>\n                <Toolbar className={classes.toolbar}>\n                    {props.button || button}\n\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap={true}>\n                        {props.title || title}\n                    </Typography>\n\n                     <div className={classes.grow} />\n                    {actions != null &&\n                        <div className={classes.buttons}>\n                            {actions}\n                        </div>\n                    }\n                </Toolbar>\n\n                {subBar != null && subBar}\n            </AppBar>\n        </Fragment>\n    );\n};\n\nexport default withStyles(styles)(AppHeaderComponent);\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    inputContainer: {\n        width: \"100%\",\n        paddingLeft: theme.spacing.unit * 2,\n        paddingRight: theme.spacing.unit * 3,\n    },\n});\n\ntype Props = {\n    children: React.ReactElement<any>,\n} & WithStyles<typeof styles>;\n\nconst InputContainer: React.FunctionComponent<Props> = (props) => {\n    return (<div className={props.classes.inputContainer}>{props.children}</div>);\n};\n\nexport default withStyles(styles)(InputContainer);\n","import { ListItem } from \"@material-ui/core\";\nimport { ListItemProps } from \"@material-ui/core/ListItem\";\nimport { LocationDescriptor } from \"history\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\ntype Props =  {\n    // ListItemProps and LinkProps both define an 'innerRef' property which are incompatible.\n\n    to: LocationDescriptor\n    replace?: boolean,\n} & ListItemProps;\n\nfunction createLink({innerRef, ...props}: Props) {\n    // Remove `innerRef` from properties as the interface is incompatible.\n\n    if (props.to.toString().match(/https/)) {\n        return <a onClick={() => Homey.openURL(props.to.toString())} {...props}>{props.children}</a>;\n    }\n\n    return <Link {...props} />;\n}\n\nconst ListItemLink: React.FunctionComponent<Props> = (props) => {\n    return (\n        <ListItem {...props} component={createLink as unknown as \"a\"}>\n            {props.children}\n        </ListItem>\n    );\n};\n\nexport default ListItemLink;\n","import { Divider, IconButton, List, ListItemText, StyleRulesCallback, Typography, WithStyles, withStyles } from \"@material-ui/core\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport { IconButtonProps } from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport React from \"react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport translate from \"../i18n/Translation\";\nimport ListItemLink from \"./ListItemLink\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    text: {\n        padding: theme.spacing.unit * 2,\n        paddingBottom: 0,\n    },\n\n    version: {\n        padding: theme.spacing.unit * 2,\n        paddingTop: 0,\n    },\n\n    normal: {\n    },\n\n    selected: {\n        color: theme.palette.primary.main,\n    },\n\n    otherButton: {\n\n    },\n\n    firstButton: {\n        marginLeft: -12,\n        // marginRight: 20,\n    },\n});\n\ntype Props = {\n    open: boolean;\n    onClose: () => void;\n} & WithStyles<typeof styles> & RouteComponentProps;\n\nconst AppMenuBase: React.FunctionComponent<Props> = (props) => {\n    const {classes} = props;\n\n    const elements = [\n        {\n            type: \"entry\",\n            to: \"/\",\n            text: translate(\"menu.plans\"),\n        },\n        {\n            to: \"/temperatures\",\n            text: translate(\"menu.temperatures\"),\n        },\n        {\n            to: \"/schedules\",\n            text: translate(\"menu.schedules\"),\n        },\n        {\n            to: \"/settings\",\n            text: translate(\"menu.settings\"),\n        },\n        // {\n        //     type: \"Divider\"\n        // },\n        {\n            to: \"https://homey-heating.mskg.app\",\n            text: translate(\"menu.help\"),\n        },\n    ];\n\n    return (\n        <Drawer open={props.open} onClose={props.onClose}>\n            <Typography className={classes.text} variant=\"h5\" gutterBottom={true}>\n                {translate(\"menu.title\")}\n            </Typography>\n            <Typography className={classes.version} variant=\"body2\" color=\"textSecondary\" gutterBottom={true}>\n                Version {__VERSION} ({__BUILD})\n            </Typography>\n\n            <Divider />\n            <List>\n            {\n                elements.map((e) => (e.type === \"Divider\"\n                    ? <Divider />\n                    : <ListItemLink key={e.to} to={e.to} disabled={props.match.url === e.to} button={true}>\n                        <ListItemText\n                            primary={e.text}\n                            classes={{primary: props.match.url !== e.to ? classes.normal : classes.selected}}\n                        />\n                    </ListItemLink>\n                ))\n            }\n            </List>\n        </Drawer>\n    );\n};\n\ntype MenuButtonProps = {\n    icon: React.ReactElement<any>,\n    first?: boolean,\n} & WithStyles<typeof styles> & IconButtonProps;\n\nconst MenuButtonBase: React.FunctionComponent<MenuButtonProps> = (props) => {\n    const { classes, first, icon, ...otherProps } = props;\n\n    return (\n        <IconButton className={first ? classes.firstButton : classes.otherButton} color=\"inherit\" {...otherProps}>\n            {icon}\n        </IconButton>\n    );\n};\n\nexport const AppMenuButton: React.FunctionComponent = (_props) => {\n    const [openMenu, setOpenMenu] = React.useState<boolean>(false);\n\n    return (\n        <React.Fragment>\n            <AppMenu open={openMenu} onClose={() => { setOpenMenu(false); }} />\n            <MenuButton first={true} onClick={() => { setOpenMenu(true); }} icon={<MenuIcon />} />\n        </React.Fragment>\n    );\n};\n\nconst AppMenu = withRouter(withStyles(styles)(AppMenuBase));\nexport const MenuButton = withStyles(styles)(MenuButtonBase);\n\nexport default AppMenu;\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport React, { ReactChild } from \"react\";\n\nconst styles: StyleRulesCallback = (_theme) => ({\n    root: {\n        webkitOverflowScrolling: \"touch\",\n        display: \"flex\",\n        flexFlow: \"column\",\n        height: \"100vh\",\n        width: \"100vw\",\n        backgroundColor: \"#fff\",\n    },\n\n    body: {\n        flex : \"1 0 100%\",\n        margin: 0,\n        maxWidth: \"100%\",\n        overflowY: \"scroll\",\n    },\n});\n\ntype NamedSlots = {\n    header: ReactChild,\n    body: ReactChild,\n    paddingTop: number | string,\n    paddingBottom?: number | string,\n};\n\ntype Props = WithStyles<typeof styles> & {\n    children: NamedSlots,\n};\n\nconst PageComponent: React.FunctionComponent<Props> = (props) => {\n    const { classes } = props;\n    const { header, body, paddingTop, paddingBottom } = props.children;\n\n    const newPadding = paddingBottom || \"auto\";\n\n    return (\n        <React.Fragment>\n            <div className={classes.root}>\n                {header}\n                <div className={classes.body} style={{paddingTop, paddingBottom: newPadding}}>\n                    {body}\n                </div>\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default withStyles(styles)(PageComponent);\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Typography, { TypographyProps } from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    text: {\n        // marginTop: theme.spacing.unit * 4,\n        paddingLeft: theme.spacing.unit * 2,\n        paddingRight: theme.spacing.unit * 2,\n    },\n});\n\ntype Props = {\n    text: string,\n} & WithStyles<typeof styles> & TypographyProps;\n\nconst BodyText: React.FunctionComponent<Props> = (props) => {\n    const {classes, text, ...otherProps} = props;\n\n    return (\n        <Typography className={classes.text} color=\"textSecondary\"  {...otherProps}>\n            {text}\n        </Typography>\n    );\n};\n\nexport default withStyles(styles)(BodyText);\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Typography, { TypographyProps } from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    headline: {\n        marginTop: theme.spacing.unit * 4,\n        paddingLeft: theme.spacing.unit * 2,\n        paddingRight: theme.spacing.unit * 2,\n    },\n});\n\ntype SubHeaderProps = {\n    text: string | undefined,\n} & WithStyles<typeof styles> & TypographyProps;\n\nconst SubHeader: React.FunctionComponent<SubHeaderProps> = (props) => {\n    const { classes, text, ...otherProps } = props;\n\n    return (\n        <Typography className={classes.headline} variant=\"h5\" color=\"textSecondary\" gutterBottom={true} {...otherProps}>\n            {text}\n        </Typography>\n    );\n};\n\nexport default withStyles(styles)(SubHeader);\n","import TextField, { TextFieldProps } from \"@material-ui/core/TextField\";\nimport React from \"react\";\nimport InputContainer from \"./InputContainer\";\n\nconst FormTextField = ({ classes, ...otherProps }: TextFieldProps) => {\n    return (\n        <InputContainer>\n            <TextField\n                fullWidth={true}\n                margin=\"normal\"\n                {...otherProps}\n            />\n        </InputContainer>);\n};\n\nexport default FormTextField;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n})), 'Cancel');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar _helpers = require(\"../utils/helpers\");\n\nvar _SwitchBase = _interopRequireDefault(require(\"../internal/SwitchBase\"));\n\nvar styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 62,\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      // For correct alignment with the text.\n      verticalAlign: 'middle'\n    },\n\n    /* Styles used to create the `icon` passed to the internal `SwitchBase` component `icon` prop. */\n    icon: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied the icon element component if `checked={true}`. */\n    iconChecked: {\n      boxShadow: theme.shadows[2]\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      padding: 0,\n      height: 48,\n      width: 48,\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest\n      })\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {\n      transform: 'translateX(14px)',\n      '& + $bar': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '& + $bar': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '& + $bar': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's disabled class. */\n    disabled: {\n      '& + $bar': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      },\n      '& $icon': {\n        boxShadow: theme.shadows[1]\n      },\n      '&$switchBase': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800],\n        '& + $bar': {\n          backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n        }\n      }\n    },\n\n    /* Styles applied to the bar element. */\n    bar: {\n      borderRadius: 14 / 2,\n      display: 'block',\n      position: 'absolute',\n      zIndex: -1,\n      width: 34,\n      height: 14,\n      top: '50%',\n      left: '50%',\n      marginTop: -7,\n      marginLeft: -17,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\n\nexports.styles = styles;\n\nfunction Switch(props) {\n  var classes = props.classes,\n      className = props.className,\n      color = props.color,\n      other = (0, _objectWithoutProperties2.default)(props, [\"classes\", \"className\", \"color\"]);\n  return _react.default.createElement(\"span\", {\n    className: (0, _classnames.default)(classes.root, className)\n  }, _react.default.createElement(_SwitchBase.default, (0, _extends2.default)({\n    type: \"checkbox\",\n    icon: _react.default.createElement(\"span\", {\n      className: classes.icon\n    }),\n    classes: {\n      root: (0, _classnames.default)(classes.switchBase, classes[\"color\".concat((0, _helpers.capitalize)(color))]),\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    checkedIcon: _react.default.createElement(\"span\", {\n      className: (0, _classnames.default)(classes.icon, classes.iconChecked)\n    })\n  }, other)), _react.default.createElement(\"span\", {\n    className: classes.bar\n  }));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Switch.propTypes = {\n  /**\r\n   * If `true`, the component is checked.\r\n   */\n  checked: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n\n  /**\r\n   * The icon to display when the component is checked.\r\n   */\n  checkedIcon: _propTypes.default.node,\n\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   * See [CSS API](#css-api) below for more details.\r\n   */\n  classes: _propTypes.default.object.isRequired,\n\n  /**\r\n   * @ignore\r\n   */\n  className: _propTypes.default.string,\n\n  /**\r\n   * The color of the component. It supports those theme colors that make sense for this component.\r\n   */\n  color: _propTypes.default.oneOf(['primary', 'secondary', 'default']),\n\n  /**\r\n   * @ignore\r\n   */\n  defaultChecked: _propTypes.default.bool,\n\n  /**\r\n   * If `true`, the switch will be disabled.\r\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\r\n   * If `true`, the ripple effect will be disabled.\r\n   */\n  disableRipple: _propTypes.default.bool,\n\n  /**\r\n   * The icon to display when the component is unchecked.\r\n   */\n  icon: _propTypes.default.node,\n\n  /**\r\n   * The id of the `input` element.\r\n   */\n  id: _propTypes.default.string,\n\n  /**\r\n   * Attributes applied to the `input` element.\r\n   */\n  inputProps: _propTypes.default.object,\n\n  /**\r\n   * Use that property to pass a ref callback to the native input component.\r\n   */\n  inputRef: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.object]),\n\n  /**\r\n   * Callback fired when the state is changed.\r\n   *\r\n   * @param {object} event The event source of the callback.\r\n   * You can pull out the new value by accessing `event.target.checked`.\r\n   * @param {boolean} checked The `checked` value of the switch\r\n   */\n  onChange: _propTypes.default.func,\n\n  /**\r\n   * The input component property `type`.\r\n   */\n  type: _propTypes.default.string,\n\n  /**\r\n   * The value of the component.\r\n   */\n  value: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.bool])\n} : void 0;\nSwitch.defaultProps = {\n  color: 'secondary'\n};\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiSwitch'\n})(Switch);\n\nexports.default = _default;","import { useCallback, useEffect, useState } from \"react\";\nimport * as uuidv1 from \"uuid/v1\";\nimport { OverrideMode } from \"../../app/model\";\nimport { planAPI } from \"../api/heating\";\nimport { usePlanDispatch, usePlanGlobalState } from \"./PlanProvider\";\n\nexport const useHistory = () => {\n    const dispatch = usePlanDispatch();\n    const loaded = usePlanGlobalState(\"loaded\");\n\n    const savePoint = useCallback(() => dispatch({ type: \"savePoint\" }), [dispatch]);\n    const undo = useCallback(() => dispatch({ type: \"undo\" }), [dispatch]);\n    const commit = useCallback(() => dispatch({ type: \"commit\" }), [dispatch]);\n\n    useEffect(() => {\n        savePoint();\n    }, [loaded]);\n\n    return {\n        savePoint, undo, commit,\n    };\n};\n\nexport const useModifyPlan = () => {\n    const dispatch = usePlanDispatch();\n\n    const setName = useCallback((evt) => dispatch({ type: \"setName\", name: evt.target.value }), [dispatch]);\n    const setDescription = useCallback((evt) => dispatch({ type: \"setDescription\", description: evt.target.value }), [dispatch]);\n\n    const toggleState = useCallback(() => dispatch({ type: \"toggleEnabled\" }), [dispatch]);\n    const toggleZone = useCallback((id) => dispatch({ type: \"toggleZone\", zone: id }), [dispatch]);\n    const toggleDevice = useCallback((id) => dispatch({ type: \"toggleDevice\", device: id }), [dispatch]);\n\n    return { setName, setDescription, toggleState, toggleZone, toggleDevice };\n};\n\nexport const useModifyExceptions = () => {\n    const dispatch = usePlanDispatch();\n    const [isDirty, setDirty] = useState<boolean>(false);\n\n    const setOverride = useCallback((mode, temp) => {\n        dispatch({ type: \"setOverride\", mode, temperature: temp });\n        setDirty(true);\n    }, [dispatch]);\n\n    const clearOverride = useCallback((mode) => {\n        dispatch({ type: \"clearOverride\", mode });\n        setDirty(true);\n    }, [dispatch]);\n\n    const updateOverride = useCallback((mode: OverrideMode, target: number) => {\n        if (target === 0) { clearOverride(mode); } else { setOverride(mode, target); }\n    }, [dispatch]);\n\n    useEffect(() => {\n        setDirty(false);\n    }, []);\n\n    return { isDirty, setOverride, clearOverride, updateOverride };\n};\n\nexport const useModifySetPoints = () => {\n    const [isDirty, setDirty] = useState<boolean>(false);\n\n    const dispatch = usePlanDispatch();\n\n    const selectDay = useCallback((day) => { dispatch({ type: \"selectDay\", day }); }, [dispatch]);\n    const selectedDay = usePlanGlobalState(\"selectedDay\");\n    const setPoint = usePlanGlobalState(\"setPoint\");\n\n    const copyDays = useCallback((source, days) => {\n        if (days != null && days.length > 0) {\n            setDirty(true);\n            dispatch({ type: \"copyDays\", source, targets: days });\n        }\n    }, [dispatch]);\n\n    const removeSetPoint = useCallback((idx) => { setDirty(true); dispatch({ type: \"removeSetPoint\", index: idx }); }, [dispatch]);\n\n    const loadSetPoint = useCallback((point) => { dispatch({ type: \"loadSetPoint\", setPoint: point }); }, [dispatch]);\n    const newSetPoint = useCallback((day) => { dispatch({ type: \"newSetPoint\", day }); }, [dispatch]);\n\n    const saveSetPoint = useCallback((s) => {\n        if (s.index === -1) {\n            dispatch({ type: \"addSetPoint\", setPoint: s });\n        } else {\n            dispatch({ type: \"updateSetPoint\", setPoint: s });\n        }\n    }, [dispatch]);\n\n    const setStart = useCallback((date: Date | string) => dispatch({ type: \"setStart\", start: date }), [dispatch]);\n    const setTargetTemperature = useCallback((evt) => dispatch({ type: \"setTargetTemperature\", temperature: parseFloat(evt.target.value) }), [dispatch]);\n\n    useEffect(() => {\n        setDirty(false);\n    }, []);\n\n    return { setDirty, isDirty, selectedDay, setPoint, copyDays, removeSetPoint, loadSetPoint, newSetPoint, selectDay, saveSetPoint, setStart, setTargetTemperature };\n};\n\nlet cachedPlan = false;\nexport const usePlan = (id: string, keep: boolean = true) => {\n    const dispatch = usePlanDispatch();\n\n    const plan = usePlanGlobalState(\"plan\");\n    const loaded = usePlanGlobalState(\"loaded\");\n    const isDirty = usePlanGlobalState(\"dirty\");\n\n    if (!loaded || !keep) {\n        if ((id == null || id === \"new\") && !cachedPlan) {\n            cachedPlan = true;\n            dispatch({\n                type: \"loadPlan\", plan: {\n                    id: uuidv1(),\n                    enabled: false,\n                    name: \"\",\n                    zones: [],\n                    devices: [],\n                    schedule: [],\n                    overrides: undefined,\n                },\n            });\n        } else {\n            if (!cachedPlan) {\n                throw planAPI.fetchPlanById(id).then((p) => {\n                    cachedPlan = true;\n                    dispatch({ type: \"loadPlan\", plan: p });\n                });\n            }\n        }\n    }\n\n    useEffect(() => {\n        return () => {\n            cachedPlan = false;\n        };\n    }, [id, keep]);\n\n    return { plan, isDirty, loaded };\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n})), 'ArrowBackIos');\n\nexports.default = _default;","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.styles = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _withFormControlContext = _interopRequireDefault(require(\"../FormControl/withFormControlContext\"));\n\nvar _withStyles = _interopRequireDefault(require(\"../styles/withStyles\"));\n\nvar _Typography = _interopRequireDefault(require(\"../Typography\"));\n\nvar _helpers = require(\"../utils/helpers\");\n\nvar styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      // Remove grey highlight\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -14,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -14\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\r\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\r\n * Use this component if you want to display an extra label.\r\n */\n\n\nexports.styles = styles;\n\nfunction FormControlLabel(props) {\n  var _classNames;\n\n  var checked = props.checked,\n      classes = props.classes,\n      classNameProp = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      labelPlacement = props.labelPlacement,\n      muiFormControl = props.muiFormControl,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = (0, _objectWithoutProperties2.default)(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"muiFormControl\", \"name\", \"onChange\", \"value\"]);\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return _react.default.createElement(\"label\", (0, _extends2.default)({\n    className: (0, _classnames.default)(classes.root, (_classNames = {}, (0, _defineProperty2.default)(_classNames, classes[\"labelPlacement\".concat((0, _helpers.capitalize)(labelPlacement))], labelPlacement !== 'end'), (0, _defineProperty2.default)(_classNames, classes.disabled, disabled), _classNames), classNameProp)\n  }, other), _react.default.cloneElement(control, controlProps), _react.default.createElement(_Typography.default, {\n    component: \"span\",\n    className: (0, _classnames.default)(classes.label, (0, _defineProperty2.default)({}, classes.disabled, disabled))\n  }, label));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? FormControlLabel.propTypes = {\n  /**\r\n   * If `true`, the component appears selected.\r\n   */\n  checked: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   * See [CSS API](#css-api) below for more details.\r\n   */\n  classes: _propTypes.default.object.isRequired,\n\n  /**\r\n   * @ignore\r\n   */\n  className: _propTypes.default.string,\n\n  /**\r\n   * A control element. For instance, it can be be a `Radio`, a `Switch` or a `Checkbox`.\r\n   */\n  control: _propTypes.default.element,\n\n  /**\r\n   * If `true`, the control will be disabled.\r\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\r\n   * Use that property to pass a ref callback to the native input component.\r\n   */\n  inputRef: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.object]),\n\n  /**\r\n   * The text to be used in an enclosing label element.\r\n   */\n  label: _propTypes.default.node,\n\n  /**\r\n   * The position of the label.\r\n   */\n  labelPlacement: _propTypes.default.oneOf(['end', 'start', 'top', 'bottom']),\n\n  /**\r\n   * @ignore\r\n   */\n  muiFormControl: _propTypes.default.object,\n\n  /*\r\n   * @ignore\r\n   */\n  name: _propTypes.default.string,\n\n  /**\r\n   * Callback fired when the state is changed.\r\n   *\r\n   * @param {object} event The event source of the callback.\r\n   * You can pull out the new value by accessing `event.target.checked`.\r\n   * @param {boolean} checked The `checked` value of the switch\r\n   */\n  onChange: _propTypes.default.func,\n\n  /**\r\n   * The value of the component.\r\n   */\n  value: _propTypes.default.string\n} : void 0;\nFormControlLabel.defaultProps = {\n  labelPlacement: 'end'\n};\n\nvar _default = (0, _withStyles.default)(styles, {\n  name: 'MuiFormControlLabel'\n})((0, _withFormControlContext.default)(FormControlLabel));\n\nexports.default = _default;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","export enum CapabilityType {\n    TargetTemperature = \"target_temperature\",\n    MeasureTemperature = \"measure_temperature\",\n\n    // Can not be called mode as this is a standard capability\n    ThermostatOverride = \"thermostat_override\",\n}\n\nexport const CLASS_THERMOSTAT: string = \"thermostat\";\n\n// from Capability — target_temperature\nexport const TARGET_TEMPERATURE_MIN = 4;\nexport const TARGET_TEMPERATURE_MAX = 35;\n","import FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport React, { Fragment } from \"react\";\nimport { OverrideMode } from \"../../app/model\";\nimport { TARGET_TEMPERATURE_MAX, TARGET_TEMPERATURE_MIN } from \"../../app/services/homey-api/declarations\";\nimport translate from \"../i18n/Translation\";\nimport FormTextField from \"./FormTextField\";\n\nconst styles: StyleRulesCallback = (theme) => ({\n    planOverride: {\n        marginBottom: theme.spacing.unit * 2,\n    },\n});\n\ntype PlanOverrideProps = {\n    mode: OverrideMode,\n    enabled: boolean;\n    targetTemperature: number,\n\n    text: string,\n    setOverride: (mode: OverrideMode, target: number) => void,\n} & WithStyles<typeof styles>;\n\nconst OverrideSetting: React.FunctionComponent<PlanOverrideProps> = (props) => {\n\n    return (\n        <Fragment>\n            <div className={props.classes.planOverride}>\n                <FormControlLabel\n                    style={{ marginLeft: 0 }}\n                    control={\n                        <Switch\n                            checked={props.enabled}\n                            onChange={(_e, checked) => {\n                                props.setOverride(props.mode,\n                                    checked ? (props.targetTemperature === 0 ? 16 : props.targetTemperature) : 0);\n                            }}\n                        />\n                    }\n                    label={props.text}\n                    labelPlacement=\"end\"\n                />\n\n                <FormTextField\n                    label={translate(\"plan.target.label\")}\n                    placeholder={translate(\"plan.target.placeholder\")}\n                    disabled={!props.enabled}\n                    hidden={!props.enabled}\n\n                    type=\"number\"\n                    InputProps={{ inputProps: { min: TARGET_TEMPERATURE_MIN, max: TARGET_TEMPERATURE_MAX, step: 0.5 } }}\n\n                    value={props.targetTemperature}\n                    onChange={(evt) => {\n                        props.setOverride(props.mode, parseFloat(evt.target.value));\n                    }}\n                />\n            </div>\n        </Fragment>\n    );\n};\n\nexport default withStyles(styles)(OverrideSetting);\n","import { Button } from \"@material-ui/core\";\nimport { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport BackIcon from \"@material-ui/icons/ArrowBackIos\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport React from \"react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { IHeatingPlan, OverrideMode } from \"../../app/model\";\nimport AppHeader from \"../components/AppHeader\";\nimport BodyText from \"../components/BodyText\";\nimport { MenuButton } from \"../components/Menu\";\nimport OverrideSetting from \"../components/OverrideSetting\";\nimport SubHeader from \"../components/SubHeader\";\nimport translate from \"../i18n/Translation\";\nimport Page from \"../layouts/Page\";\nimport { useHistory, useModifyExceptions, usePlan } from \"../state/planHooks\";\n\nconst styles: StyleRulesCallback = (_theme) => ({\n    resetPadding: {\n        paddingBottom: 100,\n        paddingLeft: 0,\n        paddingRight: 0,\n    },\n});\n\ntype Params = {\n    id: string;\n};\n\ntype Props = WithStyles<typeof styles> & RouteComponentProps<Params, {}, IHeatingPlan>;\n\nconst ScheduleExceptionsPage: React.FunctionComponent<Props> = (props: Props) => {\n    const { history, classes } = props;\n\n    const { plan } = usePlan(props.match.params.id);\n    const { isDirty, updateOverride } = useModifyExceptions();\n    const { undo, commit } = useHistory();\n\n    function onCancelDialog() {\n        undo();\n\n        history.replace({\n            pathname: `/plans/${plan.id}`,\n            state: true,\n        });\n    }\n\n    function onSaveDialog() {\n        commit();\n\n        history.replace({\n            pathname: `/plans/${plan.id}`,\n            state: true,\n        });\n    }\n\n    const getOverride = (mode: OverrideMode) => {\n        const override = plan.overrides != null\n            // made an error in first implementation storing the number instead of the value\n            ? (plan.overrides[OverrideMode[mode]] || plan.overrides[mode])\n            : null;\n\n        return {\n            mode,\n            enabled: override != null && override.targetTemperature !== 0,\n            targetTemperature: override != null ? override.targetTemperature : 0,\n        };\n    };\n\n    return (\n        <Page>\n            {{\n                header: (\n                    <AppHeader>\n                        {{\n                            title: translate(\"overrides.title\"),\n                            button: (\n                                <MenuButton first={true} onClick={onCancelDialog} icon={isDirty ? <CancelIcon /> : <BackIcon />} />\n                            ),\n                            actions: (\n                                <React.Fragment>\n                                    {isDirty &&\n                                        <Button color=\"inherit\" onClick={onSaveDialog}>\n                                            {translate(\"schedule.save\")}\n                                        </Button>\n                                    }\n                                </React.Fragment>\n                            ),\n                        }}\n                    </AppHeader>\n                ),\n                paddingTop: 50,\n                body: (\n                    <div className={classes.resetPadding}>\n                        <SubHeader text={translate(\"overrides.section\")} />\n                        <BodyText text={translate(\"overrides.text\")} />\n\n                        <OverrideSetting text={translate(\"overrides.athome\")} setOverride={updateOverride} {...getOverride(OverrideMode.DayAtHome)} />\n                        <OverrideSetting text={translate(\"overrides.away\")} setOverride={updateOverride} {...getOverride(OverrideMode.DayAway)} />\n                        <OverrideSetting text={translate(\"overrides.sleeping\")} setOverride={updateOverride} {...getOverride(OverrideMode.Sleep)} />\n                        <OverrideSetting text={translate(\"overrides.holiday\")} setOverride={updateOverride} {...getOverride(OverrideMode.Holiday)} />\n                        <OverrideSetting text={translate(\"overrides.outofseason\")} setOverride={updateOverride} {...getOverride(OverrideMode.OutOfSeason)} />\n                    </div>\n                ),\n            }}\n        </Page>\n    );\n};\n\nexport default withRouter(withStyles(styles)(ScheduleExceptionsPage));\n"],"sourceRoot":""}